<!DOCTYPE html>
<html><body>
<style>
    text.active_oDTlsDTC {
        text-anchor: middle;
        font-size: 10px;
        font-family: Arial, Helvetica, sans-serif;
        fill: #ffffff;
        opacity: 1.0;
    }
    text.hidden_oDTlsDTC {
        opacity: 0;
    }
    line.tlinks_oDTlsDTC {
        stroke: #cccccc;
        stroke-opacity: 0.4;
        stroke-width: 2;
    }
    line.active_oDTlsDTC {
        stroke: #FF69B4;
        stroke-opacity: 1.0;
        stroke-width: 4;
    }
    line.hidden_oDTlsDTC {
        stroke: rgb(255, 255, 255);
        stroke-opacity: 0;
        stroke-width: 0px;
    }
    circle.active_oDTlsDTC {
        stroke: #222;
        fill: #FF69B4;
        fill-opacity: 1;
        stroke-width: 2px;
    }
    circle.tnodes_oDTlsDTC {
        fill: #cccccc;
        stroke: #222;
        fill-opacity: 1;
        stroke-width: 1.5px;
    }
</style>

<svg width="800" height="600" id="oDTlsDTC">
    <text x="10" y="20" font-family="sans-serif" font-size="14px" fill="red"
        id='oDTlsDTC_time_txt'>t</text>
    <text x="120" y="20" font-family="sans-serif" font-size="14px" fill="#9999bb" style="cursor: pointer"
        id='oDTlsDTC_start_txt'>stop</text>
    <text x="170" y="20" font-family="sans-serif" font-size="14px" fill="#9999bb" style="cursor: pointer"
        id='oDTlsDTC_restart_txt'>restart</text>
</svg>

<script charset="utf-8" src="https://d3js.org/d3.v4.min.js"></script>
<script charset="utf-8">

// Load via requireJS if available (jupyter notebook environment)
try {
    // Problem: require.config will raise an exception when called for the second time
    require.config({
        paths: {
            //d3: "https://d3js.org/d3.v4.min"
            d3: "https://d3js.org/d3.v4.min.js".replace(".js", "")
        }
    });
    console.log("Detected requireJS");
}
catch(err){
    // a reference error indicates that requireJS does not exist.
    // other errors may occur due to multiple calls to config
    if (err instanceof ReferenceError){
        console.log("Detected no requireJS");

        // Helper function that waits for d3js to be loaded
        require = function require(symbols, callback) {
            var ms = 5;
            window.setTimeout(function(t) {
                if (window[symbols[0]])
                    callback(window[symbols[0]]);
                else
                    window.setTimeout(arguments.callee, ms);
            }, ms);
        }
    }
}

require(["d3"], function(d3) {
    d3.selection.prototype.moveToFront = function() {
        return this.each(function(){
            this.parentNode.appendChild(this);
        });
    };

    d3.selection.prototype.moveToBack = function() {
        return this.each(function() {
            var firstChild = this.parentNode.firstChild;
            if (firstChild) {
                this.parentNode.insertBefore(this, firstChild);
            }
        });
    };

    var svg = d3.select("#oDTlsDTC"),
        width = +svg.attr("width"),
        height = +svg.attr("height"),
        radius = 20,
        color = d3.scaleOrdinal(d3.schemeCategory20b);

    var temporal_net = {"nodes": [{"id": "C", "group": 1}, {"id": "W0", "group": 1}, {"id": "W1", "group": 1}, {"id": "W2", "group": 1}, {"id": "W3", "group": 1}, {"id": "W4", "group": 1}, {"id": "W5", "group": 1}, {"id": "W6", "group": 1}, {"id": "W7", "group": 1}, {"id": "W8", "group": 1}, {"id": "W9", "group": 1}, {"id": "W10", "group": 1}, {"id": "W11", "group": 1}, {"id": "W12", "group": 1}, {"id": "W13", "group": 1}, {"id": "W14", "group": 1}, {"id": "W15", "group": 1}, {"id": "W16", "group": 1}, {"id": "W17", "group": 1}, {"id": "W18", "group": 1}, {"id": "W19", "group": 1}, {"id": "W20", "group": 1}, {"id": "W21", "group": 1}, {"id": "W22", "group": 1}, {"id": "W23", "group": 1}, {"id": "W24", "group": 1}, {"id": "W25", "group": 1}, {"id": "W26", "group": 1}, {"id": "W27", "group": 1}, {"id": "W28", "group": 1}, {"id": "W29", "group": 1}, {"id": "W30", "group": 1}, {"id": "W31", "group": 1}, {"id": "W32", "group": 1}, {"id": "W33", "group": 1}, {"id": "W34", "group": 1}, {"id": "W35", "group": 1}, {"id": "W36", "group": 1}, {"id": "W37", "group": 1}, {"id": "W38", "group": 1}, {"id": "W39", "group": 1}, {"id": "W40", "group": 1}, {"id": "W41", "group": 1}, {"id": "W42", "group": 1}, {"id": "W43", "group": 1}, {"id": "W44", "group": 1}, {"id": "W45", "group": 1}, {"id": "W46", "group": 1}, {"id": "W47", "group": 1}, {"id": "W48", "group": 1}, {"id": "W49", "group": 1}, {"id": "W50", "group": 1}, {"id": "W51", "group": 1}, {"id": "W52", "group": 1}, {"id": "W53", "group": 1}, {"id": "W54", "group": 1}, {"id": "W55", "group": 1}, {"id": "W56", "group": 1}, {"id": "W57", "group": 1}, {"id": "W58", "group": 1}, {"id": "W59", "group": 1}, {"id": "W60", "group": 1}, {"id": "W61", "group": 1}, {"id": "W62", "group": 1}, {"id": "W63", "group": 1}, {"id": "W64", "group": 1}, {"id": "W65", "group": 1}, {"id": "W66", "group": 1}, {"id": "W67", "group": 1}, {"id": "W68", "group": 1}, {"id": "W69", "group": 1}, {"id": "W70", "group": 1}, {"id": "W71", "group": 1}, {"id": "W72", "group": 1}, {"id": "W73", "group": 1}, {"id": "W74", "group": 1}, {"id": "W75", "group": 1}, {"id": "W76", "group": 1}, {"id": "W77", "group": 1}, {"id": "W78", "group": 1}, {"id": "W79", "group": 1}, {"id": "W80", "group": 1}, {"id": "W81", "group": 1}, {"id": "W82", "group": 1}, {"id": "W83", "group": 1}, {"id": "W84", "group": 1}, {"id": "W85", "group": 1}, {"id": "W86", "group": 1}, {"id": "W87", "group": 1}, {"id": "W88", "group": 1}, {"id": "W89", "group": 1}, {"id": "W90", "group": 1}, {"id": "W91", "group": 1}], "links": [{"source": "C", "target": "W0", "width": 1, "time": 1}, {"source": "C", "target": "W0", "width": 1, "time": 2}, {"source": "C", "target": "W0", "width": 1, "time": 3}, {"source": "C", "target": "W1", "width": 1, "time": 4}, {"source": "C", "target": "W2", "width": 1, "time": 5}, {"source": "C", "target": "W3", "width": 1, "time": 6}, {"source": "C", "target": "W4", "width": 1, "time": 7}, {"source": "C", "target": "W5", "width": 1, "time": 8}, {"source": "C", "target": "W2", "width": 1, "time": 9}, {"source": "C", "target": "W2", "width": 1, "time": 10}, {"source": "C", "target": "W6", "width": 1, "time": 11}, {"source": "C", "target": "W7", "width": 1, "time": 12}, {"source": "C", "target": "W3", "width": 1, "time": 13}, {"source": "C", "target": "W8", "width": 1, "time": 14}, {"source": "C", "target": "W9", "width": 1, "time": 15}, {"source": "C", "target": "W10", "width": 1, "time": 16}, {"source": "C", "target": "W11", "width": 1, "time": 17}, {"source": "C", "target": "W12", "width": 1, "time": 18}, {"source": "C", "target": "W13", "width": 1, "time": 19}, {"source": "C", "target": "W14", "width": 1, "time": 20}, {"source": "C", "target": "W14", "width": 1, "time": 21}, {"source": "C", "target": "W14", "width": 1, "time": 22}, {"source": "C", "target": "W15", "width": 1, "time": 23}, {"source": "C", "target": "W16", "width": 1, "time": 24}, {"source": "C", "target": "W15", "width": 1, "time": 25}, {"source": "C", "target": "W16", "width": 1, "time": 26}, {"source": "C", "target": "W10", "width": 1, "time": 27}, {"source": "C", "target": "W14", "width": 1, "time": 28}, {"source": "C", "target": "W12", "width": 1, "time": 29}, {"source": "C", "target": "W17", "width": 1, "time": 30}, {"source": "C", "target": "W18", "width": 1, "time": 31}, {"source": "C", "target": "W2", "width": 1, "time": 32}, {"source": "C", "target": "W11", "width": 1, "time": 33}, {"source": "C", "target": "W19", "width": 1, "time": 34}, {"source": "C", "target": "W20", "width": 1, "time": 35}, {"source": "C", "target": "W21", "width": 1, "time": 36}, {"source": "C", "target": "W19", "width": 1, "time": 37}, {"source": "C", "target": "W21", "width": 1, "time": 38}, {"source": "C", "target": "W22", "width": 1, "time": 39}, {"source": "C", "target": "W19", "width": 1, "time": 40}, {"source": "C", "target": "W23", "width": 1, "time": 41}, {"source": "C", "target": "W11", "width": 1, "time": 42}, {"source": "C", "target": "W24", "width": 1, "time": 43}, {"source": "C", "target": "W25", "width": 1, "time": 44}, {"source": "C", "target": "W26", "width": 1, "time": 45}, {"source": "C", "target": "W26", "width": 1, "time": 46}, {"source": "C", "target": "W27", "width": 1, "time": 47}, {"source": "C", "target": "W28", "width": 1, "time": 48}, {"source": "C", "target": "W25", "width": 1, "time": 49}, {"source": "C", "target": "W29", "width": 1, "time": 50}, {"source": "C", "target": "W29", "width": 1, "time": 51}, {"source": "C", "target": "W19", "width": 1, "time": 52}, {"source": "C", "target": "W11", "width": 1, "time": 53}, {"source": "C", "target": "W30", "width": 1, "time": 54}, {"source": "C", "target": "W19", "width": 1, "time": 55}, {"source": "C", "target": "W31", "width": 1, "time": 56}, {"source": "C", "target": "W19", "width": 1, "time": 57}, {"source": "C", "target": "W32", "width": 1, "time": 58}, {"source": "C", "target": "W14", "width": 1, "time": 59}, {"source": "C", "target": "W29", "width": 1, "time": 60}, {"source": "C", "target": "W29", "width": 1, "time": 61}, {"source": "C", "target": "W25", "width": 1, "time": 62}, {"source": "C", "target": "W14", "width": 1, "time": 63}, {"source": "C", "target": "W33", "width": 1, "time": 64}, {"source": "C", "target": "W22", "width": 1, "time": 65}, {"source": "C", "target": "W34", "width": 1, "time": 66}, {"source": "C", "target": "W11", "width": 1, "time": 67}, {"source": "C", "target": "W14", "width": 1, "time": 68}, {"source": "C", "target": "W33", "width": 1, "time": 69}, {"source": "C", "target": "W14", "width": 1, "time": 70}, {"source": "C", "target": "W16", "width": 1, "time": 71}, {"source": "C", "target": "W14", "width": 1, "time": 72}, {"source": "C", "target": "W15", "width": 1, "time": 73}, {"source": "C", "target": "W33", "width": 1, "time": 74}, {"source": "C", "target": "W35", "width": 1, "time": 75}, {"source": "C", "target": "W14", "width": 1, "time": 76}, {"source": "C", "target": "W16", "width": 1, "time": 77}, {"source": "C", "target": "W14", "width": 1, "time": 78}, {"source": "C", "target": "W36", "width": 1, "time": 79}, {"source": "C", "target": "W36", "width": 1, "time": 80}, {"source": "C", "target": "W37", "width": 1, "time": 81}, {"source": "C", "target": "W38", "width": 1, "time": 82}, {"source": "C", "target": "W11", "width": 1, "time": 83}, {"source": "C", "target": "W11", "width": 1, "time": 84}, {"source": "C", "target": "W39", "width": 1, "time": 85}, {"source": "C", "target": "W11", "width": 1, "time": 86}, {"source": "C", "target": "W35", "width": 1, "time": 87}, {"source": "C", "target": "W14", "width": 1, "time": 88}, {"source": "C", "target": "W11", "width": 1, "time": 89}, {"source": "C", "target": "W11", "width": 1, "time": 90}, {"source": "C", "target": "W14", "width": 1, "time": 91}, {"source": "C", "target": "W11", "width": 1, "time": 92}, {"source": "C", "target": "W11", "width": 1, "time": 93}, {"source": "C", "target": "W10", "width": 1, "time": 94}, {"source": "C", "target": "W19", "width": 1, "time": 95}, {"source": "C", "target": "W14", "width": 1, "time": 96}, {"source": "C", "target": "W14", "width": 1, "time": 97}, {"source": "C", "target": "W14", "width": 1, "time": 98}, {"source": "C", "target": "W20", "width": 1, "time": 99}, {"source": "C", "target": "W29", "width": 1, "time": 100}, {"source": "C", "target": "W32", "width": 1, "time": 101}, {"source": "C", "target": "W14", "width": 1, "time": 102}, {"source": "C", "target": "W14", "width": 1, "time": 103}, {"source": "C", "target": "W14", "width": 1, "time": 104}, {"source": "C", "target": "W32", "width": 1, "time": 105}, {"source": "C", "target": "W32", "width": 1, "time": 106}, {"source": "C", "target": "W32", "width": 1, "time": 107}, {"source": "C", "target": "W11", "width": 1, "time": 108}, {"source": "C", "target": "W11", "width": 1, "time": 109}, {"source": "C", "target": "W10", "width": 1, "time": 110}, {"source": "C", "target": "W32", "width": 1, "time": 111}, {"source": "C", "target": "W32", "width": 1, "time": 112}, {"source": "C", "target": "W32", "width": 1, "time": 113}, {"source": "C", "target": "W11", "width": 1, "time": 114}, {"source": "C", "target": "W11", "width": 1, "time": 115}, {"source": "C", "target": "W32", "width": 1, "time": 116}, {"source": "C", "target": "W32", "width": 1, "time": 117}, {"source": "C", "target": "W32", "width": 1, "time": 118}, {"source": "C", "target": "W11", "width": 1, "time": 119}, {"source": "C", "target": "W11", "width": 1, "time": 120}, {"source": "C", "target": "W32", "width": 1, "time": 121}, {"source": "C", "target": "W32", "width": 1, "time": 122}, {"source": "C", "target": "W32", "width": 1, "time": 123}, {"source": "C", "target": "W11", "width": 1, "time": 124}, {"source": "C", "target": "W32", "width": 1, "time": 125}, {"source": "C", "target": "W32", "width": 1, "time": 126}, {"source": "C", "target": "W32", "width": 1, "time": 127}, {"source": "C", "target": "W11", "width": 1, "time": 128}, {"source": "C", "target": "W32", "width": 1, "time": 129}, {"source": "C", "target": "W32", "width": 1, "time": 130}, {"source": "C", "target": "W32", "width": 1, "time": 131}, {"source": "C", "target": "W11", "width": 1, "time": 132}, {"source": "C", "target": "W32", "width": 1, "time": 133}, {"source": "C", "target": "W32", "width": 1, "time": 134}, {"source": "C", "target": "W32", "width": 1, "time": 135}, {"source": "C", "target": "W40", "width": 1, "time": 136}, {"source": "C", "target": "W11", "width": 1, "time": 137}, {"source": "C", "target": "W32", "width": 1, "time": 138}, {"source": "C", "target": "W32", "width": 1, "time": 139}, {"source": "C", "target": "W32", "width": 1, "time": 140}, {"source": "C", "target": "W35", "width": 1, "time": 141}, {"source": "C", "target": "W32", "width": 1, "time": 142}, {"source": "C", "target": "W32", "width": 1, "time": 143}, {"source": "C", "target": "W32", "width": 1, "time": 144}, {"source": "C", "target": "W11", "width": 1, "time": 145}, {"source": "C", "target": "W32", "width": 1, "time": 146}, {"source": "C", "target": "W32", "width": 1, "time": 147}, {"source": "C", "target": "W32", "width": 1, "time": 148}, {"source": "C", "target": "W29", "width": 1, "time": 149}, {"source": "C", "target": "W11", "width": 1, "time": 150}, {"source": "C", "target": "W30", "width": 1, "time": 151}, {"source": "C", "target": "W11", "width": 1, "time": 152}, {"source": "C", "target": "W29", "width": 1, "time": 153}, {"source": "C", "target": "W19", "width": 1, "time": 154}, {"source": "C", "target": "W11", "width": 1, "time": 155}, {"source": "C", "target": "W11", "width": 1, "time": 156}, {"source": "C", "target": "W11", "width": 1, "time": 157}, {"source": "C", "target": "W29", "width": 1, "time": 158}, {"source": "C", "target": "W32", "width": 1, "time": 159}, {"source": "C", "target": "W32", "width": 1, "time": 160}, {"source": "C", "target": "W32", "width": 1, "time": 161}, {"source": "C", "target": "W29", "width": 1, "time": 162}, {"source": "C", "target": "W19", "width": 1, "time": 163}, {"source": "C", "target": "W32", "width": 1, "time": 164}, {"source": "C", "target": "W32", "width": 1, "time": 165}, {"source": "C", "target": "W32", "width": 1, "time": 166}, {"source": "C", "target": "W11", "width": 1, "time": 167}, {"source": "C", "target": "W32", "width": 1, "time": 168}, {"source": "C", "target": "W32", "width": 1, "time": 169}, {"source": "C", "target": "W32", "width": 1, "time": 170}, {"source": "C", "target": "W41", "width": 1, "time": 171}, {"source": "C", "target": "W41", "width": 1, "time": 172}, {"source": "C", "target": "W41", "width": 1, "time": 173}, {"source": "C", "target": "W32", "width": 1, "time": 174}, {"source": "C", "target": "W32", "width": 1, "time": 175}, {"source": "C", "target": "W32", "width": 1, "time": 176}, {"source": "C", "target": "W11", "width": 1, "time": 177}, {"source": "C", "target": "W42", "width": 1, "time": 178}, {"source": "C", "target": "W32", "width": 1, "time": 179}, {"source": "C", "target": "W32", "width": 1, "time": 180}, {"source": "C", "target": "W32", "width": 1, "time": 181}, {"source": "C", "target": "W11", "width": 1, "time": 182}, {"source": "C", "target": "W32", "width": 1, "time": 183}, {"source": "C", "target": "W32", "width": 1, "time": 184}, {"source": "C", "target": "W32", "width": 1, "time": 185}, {"source": "C", "target": "W11", "width": 1, "time": 186}, {"source": "C", "target": "W32", "width": 1, "time": 187}, {"source": "C", "target": "W32", "width": 1, "time": 188}, {"source": "C", "target": "W32", "width": 1, "time": 189}, {"source": "C", "target": "W11", "width": 1, "time": 190}, {"source": "C", "target": "W11", "width": 1, "time": 191}, {"source": "C", "target": "W32", "width": 1, "time": 192}, {"source": "C", "target": "W32", "width": 1, "time": 193}, {"source": "C", "target": "W32", "width": 1, "time": 194}, {"source": "C", "target": "W11", "width": 1, "time": 195}, {"source": "C", "target": "W35", "width": 1, "time": 196}, {"source": "C", "target": "W11", "width": 1, "time": 197}, {"source": "C", "target": "W32", "width": 1, "time": 198}, {"source": "C", "target": "W32", "width": 1, "time": 199}, {"source": "C", "target": "W32", "width": 1, "time": 200}, {"source": "C", "target": "W43", "width": 1, "time": 201}, {"source": "C", "target": "W11", "width": 1, "time": 202}, {"source": "C", "target": "W44", "width": 1, "time": 203}, {"source": "C", "target": "W11", "width": 1, "time": 204}, {"source": "C", "target": "W32", "width": 1, "time": 205}, {"source": "C", "target": "W32", "width": 1, "time": 206}, {"source": "C", "target": "W32", "width": 1, "time": 207}, {"source": "C", "target": "W11", "width": 1, "time": 208}, {"source": "C", "target": "W32", "width": 1, "time": 209}, {"source": "C", "target": "W32", "width": 1, "time": 210}, {"source": "C", "target": "W32", "width": 1, "time": 211}, {"source": "C", "target": "W11", "width": 1, "time": 212}, {"source": "C", "target": "W32", "width": 1, "time": 213}, {"source": "C", "target": "W32", "width": 1, "time": 214}, {"source": "C", "target": "W32", "width": 1, "time": 215}, {"source": "C", "target": "W11", "width": 1, "time": 216}, {"source": "C", "target": "W32", "width": 1, "time": 217}, {"source": "C", "target": "W32", "width": 1, "time": 218}, {"source": "C", "target": "W32", "width": 1, "time": 219}, {"source": "C", "target": "W10", "width": 1, "time": 220}, {"source": "C", "target": "W32", "width": 1, "time": 221}, {"source": "C", "target": "W32", "width": 1, "time": 222}, {"source": "C", "target": "W32", "width": 1, "time": 223}, {"source": "C", "target": "W32", "width": 1, "time": 224}, {"source": "C", "target": "W11", "width": 1, "time": 225}, {"source": "C", "target": "W32", "width": 1, "time": 226}, {"source": "C", "target": "W32", "width": 1, "time": 227}, {"source": "C", "target": "W32", "width": 1, "time": 228}, {"source": "C", "target": "W45", "width": 1, "time": 229}, {"source": "C", "target": "W45", "width": 1, "time": 230}, {"source": "C", "target": "W11", "width": 1, "time": 231}, {"source": "C", "target": "W46", "width": 1, "time": 232}, {"source": "C", "target": "W46", "width": 1, "time": 233}, {"source": "C", "target": "W46", "width": 1, "time": 234}, {"source": "C", "target": "W47", "width": 1, "time": 235}, {"source": "C", "target": "W47", "width": 1, "time": 236}, {"source": "C", "target": "W47", "width": 1, "time": 237}, {"source": "C", "target": "W32", "width": 1, "time": 238}, {"source": "C", "target": "W32", "width": 1, "time": 239}, {"source": "C", "target": "W32", "width": 1, "time": 240}, {"source": "C", "target": "W32", "width": 1, "time": 241}, {"source": "C", "target": "W32", "width": 1, "time": 242}, {"source": "C", "target": "W32", "width": 1, "time": 243}, {"source": "C", "target": "W46", "width": 1, "time": 244}, {"source": "C", "target": "W48", "width": 1, "time": 245}, {"source": "C", "target": "W49", "width": 1, "time": 246}, {"source": "C", "target": "W50", "width": 1, "time": 247}, {"source": "C", "target": "W50", "width": 1, "time": 248}, {"source": "C", "target": "W50", "width": 1, "time": 249}, {"source": "C", "target": "W50", "width": 1, "time": 250}, {"source": "C", "target": "W0", "width": 1, "time": 251}, {"source": "C", "target": "W48", "width": 1, "time": 252}, {"source": "C", "target": "W35", "width": 1, "time": 253}, {"source": "C", "target": "W35", "width": 1, "time": 254}, {"source": "C", "target": "W51", "width": 1, "time": 255}, {"source": "C", "target": "W52", "width": 1, "time": 256}, {"source": "C", "target": "W46", "width": 1, "time": 257}, {"source": "C", "target": "W52", "width": 1, "time": 258}, {"source": "C", "target": "W53", "width": 1, "time": 259}, {"source": "C", "target": "W46", "width": 1, "time": 260}, {"source": "C", "target": "W54", "width": 1, "time": 261}, {"source": "C", "target": "W52", "width": 1, "time": 262}, {"source": "C", "target": "W46", "width": 1, "time": 263}, {"source": "C", "target": "W46", "width": 1, "time": 264}, {"source": "C", "target": "W53", "width": 1, "time": 265}, {"source": "C", "target": "W53", "width": 1, "time": 266}, {"source": "C", "target": "W52", "width": 1, "time": 267}, {"source": "C", "target": "W52", "width": 1, "time": 268}, {"source": "C", "target": "W52", "width": 1, "time": 269}, {"source": "C", "target": "W55", "width": 1, "time": 270}, {"source": "C", "target": "W52", "width": 1, "time": 271}, {"source": "C", "target": "W52", "width": 1, "time": 272}, {"source": "C", "target": "W52", "width": 1, "time": 273}, {"source": "C", "target": "W52", "width": 1, "time": 274}, {"source": "C", "target": "W52", "width": 1, "time": 275}, {"source": "C", "target": "W52", "width": 1, "time": 276}, {"source": "C", "target": "W14", "width": 1, "time": 277}, {"source": "C", "target": "W14", "width": 1, "time": 278}, {"source": "C", "target": "W14", "width": 1, "time": 279}, {"source": "C", "target": "W14", "width": 1, "time": 280}, {"source": "C", "target": "W14", "width": 1, "time": 281}, {"source": "C", "target": "W14", "width": 1, "time": 282}, {"source": "C", "target": "W14", "width": 1, "time": 283}, {"source": "C", "target": "W14", "width": 1, "time": 284}, {"source": "C", "target": "W14", "width": 1, "time": 285}, {"source": "C", "target": "W48", "width": 1, "time": 286}, {"source": "C", "target": "W46", "width": 1, "time": 287}, {"source": "C", "target": "W53", "width": 1, "time": 288}, {"source": "C", "target": "W14", "width": 1, "time": 289}, {"source": "C", "target": "W14", "width": 1, "time": 290}, {"source": "C", "target": "W14", "width": 1, "time": 291}, {"source": "C", "target": "W56", "width": 1, "time": 292}, {"source": "C", "target": "W14", "width": 1, "time": 293}, {"source": "C", "target": "W14", "width": 1, "time": 294}, {"source": "C", "target": "W14", "width": 1, "time": 295}, {"source": "C", "target": "W56", "width": 1, "time": 296}, {"source": "C", "target": "W56", "width": 1, "time": 297}, {"source": "C", "target": "W14", "width": 1, "time": 298}, {"source": "C", "target": "W14", "width": 1, "time": 299}, {"source": "C", "target": "W14", "width": 1, "time": 300}, {"source": "C", "target": "W48", "width": 1, "time": 301}, {"source": "C", "target": "W46", "width": 1, "time": 302}, {"source": "C", "target": "W53", "width": 1, "time": 303}, {"source": "C", "target": "W14", "width": 1, "time": 304}, {"source": "C", "target": "W14", "width": 1, "time": 305}, {"source": "C", "target": "W14", "width": 1, "time": 306}, {"source": "C", "target": "W48", "width": 1, "time": 307}, {"source": "C", "target": "W14", "width": 1, "time": 308}, {"source": "C", "target": "W14", "width": 1, "time": 309}, {"source": "C", "target": "W14", "width": 1, "time": 310}, {"source": "C", "target": "W57", "width": 1, "time": 311}, {"source": "C", "target": "W57", "width": 1, "time": 312}, {"source": "C", "target": "W57", "width": 1, "time": 313}, {"source": "C", "target": "W53", "width": 1, "time": 314}, {"source": "C", "target": "W46", "width": 1, "time": 315}, {"source": "C", "target": "W58", "width": 1, "time": 316}, {"source": "C", "target": "W48", "width": 1, "time": 317}, {"source": "C", "target": "W57", "width": 1, "time": 318}, {"source": "C", "target": "W57", "width": 1, "time": 319}, {"source": "C", "target": "W14", "width": 1, "time": 320}, {"source": "C", "target": "W14", "width": 1, "time": 321}, {"source": "C", "target": "W14", "width": 1, "time": 322}, {"source": "C", "target": "W48", "width": 1, "time": 323}, {"source": "C", "target": "W46", "width": 1, "time": 324}, {"source": "C", "target": "W53", "width": 1, "time": 325}, {"source": "C", "target": "W14", "width": 1, "time": 326}, {"source": "C", "target": "W14", "width": 1, "time": 327}, {"source": "C", "target": "W14", "width": 1, "time": 328}, {"source": "C", "target": "W48", "width": 1, "time": 329}, {"source": "C", "target": "W59", "width": 1, "time": 330}, {"source": "C", "target": "W59", "width": 1, "time": 331}, {"source": "C", "target": "W59", "width": 1, "time": 332}, {"source": "C", "target": "W0", "width": 1, "time": 333}, {"source": "C", "target": "W57", "width": 1, "time": 334}, {"source": "C", "target": "W14", "width": 1, "time": 335}, {"source": "C", "target": "W14", "width": 1, "time": 336}, {"source": "C", "target": "W14", "width": 1, "time": 337}, {"source": "C", "target": "W53", "width": 1, "time": 338}, {"source": "C", "target": "W59", "width": 1, "time": 339}, {"source": "C", "target": "W0", "width": 1, "time": 340}, {"source": "C", "target": "W15", "width": 1, "time": 341}, {"source": "C", "target": "W15", "width": 1, "time": 342}, {"source": "C", "target": "W14", "width": 1, "time": 343}, {"source": "C", "target": "W59", "width": 1, "time": 344}, {"source": "C", "target": "W59", "width": 1, "time": 345}, {"source": "C", "target": "W14", "width": 1, "time": 346}, {"source": "C", "target": "W14", "width": 1, "time": 347}, {"source": "C", "target": "W14", "width": 1, "time": 348}, {"source": "C", "target": "W48", "width": 1, "time": 349}, {"source": "C", "target": "W59", "width": 1, "time": 350}, {"source": "C", "target": "W59", "width": 1, "time": 351}, {"source": "C", "target": "W59", "width": 1, "time": 352}, {"source": "C", "target": "W60", "width": 1, "time": 353}, {"source": "C", "target": "W61", "width": 1, "time": 354}, {"source": "C", "target": "W15", "width": 1, "time": 355}, {"source": "C", "target": "W15", "width": 1, "time": 356}, {"source": "C", "target": "W15", "width": 1, "time": 357}, {"source": "C", "target": "W15", "width": 1, "time": 358}, {"source": "C", "target": "W0", "width": 1, "time": 359}, {"source": "C", "target": "W0", "width": 1, "time": 360}, {"source": "C", "target": "W0", "width": 1, "time": 361}, {"source": "C", "target": "W15", "width": 1, "time": 362}, {"source": "C", "target": "W15", "width": 1, "time": 363}, {"source": "C", "target": "W15", "width": 1, "time": 364}, {"source": "C", "target": "W57", "width": 1, "time": 365}, {"source": "C", "target": "W57", "width": 1, "time": 366}, {"source": "C", "target": "W57", "width": 1, "time": 367}, {"source": "C", "target": "W14", "width": 1, "time": 368}, {"source": "C", "target": "W14", "width": 1, "time": 369}, {"source": "C", "target": "W14", "width": 1, "time": 370}, {"source": "C", "target": "W59", "width": 1, "time": 371}, {"source": "C", "target": "W59", "width": 1, "time": 372}, {"source": "C", "target": "W59", "width": 1, "time": 373}, {"source": "C", "target": "W14", "width": 1, "time": 374}, {"source": "C", "target": "W14", "width": 1, "time": 375}, {"source": "C", "target": "W14", "width": 1, "time": 376}, {"source": "C", "target": "W48", "width": 1, "time": 377}, {"source": "C", "target": "W59", "width": 1, "time": 378}, {"source": "C", "target": "W59", "width": 1, "time": 379}, {"source": "C", "target": "W59", "width": 1, "time": 380}, {"source": "C", "target": "W62", "width": 1, "time": 381}, {"source": "C", "target": "W59", "width": 1, "time": 382}, {"source": "C", "target": "W59", "width": 1, "time": 383}, {"source": "C", "target": "W59", "width": 1, "time": 384}, {"source": "C", "target": "W14", "width": 1, "time": 385}, {"source": "C", "target": "W14", "width": 1, "time": 386}, {"source": "C", "target": "W14", "width": 1, "time": 387}, {"source": "C", "target": "W14", "width": 1, "time": 388}, {"source": "C", "target": "W57", "width": 1, "time": 389}, {"source": "C", "target": "W35", "width": 1, "time": 390}, {"source": "C", "target": "W59", "width": 1, "time": 391}, {"source": "C", "target": "W59", "width": 1, "time": 392}, {"source": "C", "target": "W14", "width": 1, "time": 393}, {"source": "C", "target": "W63", "width": 1, "time": 394}, {"source": "C", "target": "W48", "width": 1, "time": 395}, {"source": "C", "target": "W48", "width": 1, "time": 396}, {"source": "C", "target": "W48", "width": 1, "time": 397}, {"source": "C", "target": "W52", "width": 1, "time": 398}, {"source": "C", "target": "W52", "width": 1, "time": 399}, {"source": "C", "target": "W64", "width": 1, "time": 400}, {"source": "C", "target": "W65", "width": 1, "time": 401}, {"source": "C", "target": "W52", "width": 1, "time": 402}, {"source": "C", "target": "W66", "width": 1, "time": 403}, {"source": "C", "target": "W52", "width": 1, "time": 404}, {"source": "C", "target": "W67", "width": 1, "time": 405}, {"source": "C", "target": "W52", "width": 1, "time": 406}, {"source": "C", "target": "W48", "width": 1, "time": 407}, {"source": "C", "target": "W52", "width": 1, "time": 408}, {"source": "C", "target": "W52", "width": 1, "time": 409}, {"source": "C", "target": "W52", "width": 1, "time": 410}, {"source": "C", "target": "W52", "width": 1, "time": 411}, {"source": "C", "target": "W48", "width": 1, "time": 412}, {"source": "C", "target": "W52", "width": 1, "time": 413}, {"source": "C", "target": "W52", "width": 1, "time": 414}, {"source": "C", "target": "W52", "width": 1, "time": 415}, {"source": "C", "target": "W52", "width": 1, "time": 416}, {"source": "C", "target": "W52", "width": 1, "time": 417}, {"source": "C", "target": "W52", "width": 1, "time": 418}, {"source": "C", "target": "W52", "width": 1, "time": 419}, {"source": "C", "target": "W52", "width": 1, "time": 420}, {"source": "C", "target": "W52", "width": 1, "time": 421}, {"source": "C", "target": "W52", "width": 1, "time": 422}, {"source": "C", "target": "W52", "width": 1, "time": 423}, {"source": "C", "target": "W48", "width": 1, "time": 424}, {"source": "C", "target": "W48", "width": 1, "time": 425}, {"source": "C", "target": "W48", "width": 1, "time": 426}, {"source": "C", "target": "W52", "width": 1, "time": 427}, {"source": "C", "target": "W48", "width": 1, "time": 428}, {"source": "C", "target": "W53", "width": 1, "time": 429}, {"source": "C", "target": "W52", "width": 1, "time": 430}, {"source": "C", "target": "W68", "width": 1, "time": 431}, {"source": "C", "target": "W53", "width": 1, "time": 432}, {"source": "C", "target": "W52", "width": 1, "time": 433}, {"source": "C", "target": "W69", "width": 1, "time": 434}, {"source": "C", "target": "W69", "width": 1, "time": 435}, {"source": "C", "target": "W69", "width": 1, "time": 436}, {"source": "C", "target": "W69", "width": 1, "time": 437}, {"source": "C", "target": "W53", "width": 1, "time": 438}, {"source": "C", "target": "W53", "width": 1, "time": 439}, {"source": "C", "target": "W53", "width": 1, "time": 440}, {"source": "C", "target": "W53", "width": 1, "time": 441}, {"source": "C", "target": "W70", "width": 1, "time": 442}, {"source": "C", "target": "W53", "width": 1, "time": 443}, {"source": "C", "target": "W53", "width": 1, "time": 444}, {"source": "C", "target": "W53", "width": 1, "time": 445}, {"source": "C", "target": "W53", "width": 1, "time": 446}, {"source": "C", "target": "W53", "width": 1, "time": 447}, {"source": "C", "target": "W71", "width": 1, "time": 448}, {"source": "C", "target": "W72", "width": 1, "time": 449}, {"source": "C", "target": "W72", "width": 1, "time": 450}, {"source": "C", "target": "W52", "width": 1, "time": 451}, {"source": "C", "target": "W35", "width": 1, "time": 452}, {"source": "C", "target": "W35", "width": 1, "time": 453}, {"source": "C", "target": "W52", "width": 1, "time": 454}, {"source": "C", "target": "W73", "width": 1, "time": 455}, {"source": "C", "target": "W73", "width": 1, "time": 456}, {"source": "C", "target": "W52", "width": 1, "time": 457}, {"source": "C", "target": "W74", "width": 1, "time": 458}, {"source": "C", "target": "W52", "width": 1, "time": 459}, {"source": "C", "target": "W63", "width": 1, "time": 460}, {"source": "C", "target": "W75", "width": 1, "time": 461}, {"source": "C", "target": "W52", "width": 1, "time": 462}, {"source": "C", "target": "W76", "width": 1, "time": 463}, {"source": "C", "target": "W73", "width": 1, "time": 464}, {"source": "C", "target": "W69", "width": 1, "time": 465}, {"source": "C", "target": "W69", "width": 1, "time": 466}, {"source": "C", "target": "W69", "width": 1, "time": 467}, {"source": "C", "target": "W76", "width": 1, "time": 468}, {"source": "C", "target": "W77", "width": 1, "time": 469}, {"source": "C", "target": "W77", "width": 1, "time": 470}, {"source": "C", "target": "W77", "width": 1, "time": 471}, {"source": "C", "target": "W78", "width": 1, "time": 472}, {"source": "C", "target": "W79", "width": 1, "time": 473}, {"source": "C", "target": "W80", "width": 1, "time": 474}, {"source": "C", "target": "W81", "width": 1, "time": 475}, {"source": "C", "target": "W82", "width": 1, "time": 476}, {"source": "C", "target": "W83", "width": 1, "time": 477}, {"source": "C", "target": "W84", "width": 1, "time": 478}, {"source": "C", "target": "W85", "width": 1, "time": 479}, {"source": "C", "target": "W73", "width": 1, "time": 480}, {"source": "C", "target": "W85", "width": 1, "time": 481}, {"source": "C", "target": "W86", "width": 1, "time": 482}, {"source": "C", "target": "W85", "width": 1, "time": 483}, {"source": "C", "target": "W85", "width": 1, "time": 484}, {"source": "C", "target": "W85", "width": 1, "time": 485}, {"source": "C", "target": "W87", "width": 1, "time": 486}, {"source": "C", "target": "W88", "width": 1, "time": 487}, {"source": "C", "target": "W89", "width": 1, "time": 488}, {"source": "C", "target": "W90", "width": 1, "time": 489}, {"source": "C", "target": "W91", "width": 1, "time": 490}]};
    var tsperframe = 1;
    var msperframe = 200;
    var look_ahead = 0;
    var look_behind = 300;

    var hidden_link_strength = 0;
    var active_link_strength = 0.2;

    // create a dictionary with edges indexed by timestamps
    var edgesbytime = {};
    var time_stamps = temporal_net.links.map(link => link['time']);
    time_stamps.forEach(function(t){
                edgesbytime[t] = [];
            });

    // extract static links
    var links = [];
    var links_by_id = {};
    temporal_net.links.forEach(function(link){
        id = String(link.source + '-' + link.target);
        edgesbytime[link.time].push(id);
        l = {
            'source': link.source,
            'target': link.target,
            'id': id,
            'strength': 0
        };
        if (!contains(links, l)){
            links.push(l);
            links_by_id[l.id] = l;
        }
    });

    var mintime = d3.min(time_stamps);
    var maxtime = d3.max(time_stamps);
    var run_status = true;

    var simulation = d3.forceSimulation()
        .force("link", d3.forceLink().id(function(d) { return d.id; }))
        .force("charge", d3.forceManyBody().strength(-30).distanceMax(200))
        .force("repelForce", d3.forceManyBody().strength(-100).distanceMax(200))
        .force("center", d3.forceCenter(width / 2, height / 2))
        .alphaTarget(0.1)
        .on("tick", ticked);

    var g = svg.append("g")
        .attr("class", "everything");

    var link = g.append("g")
        .attr("class", "tlinks_oDTlsDTC")
        .selectAll("line")
        .data(links, function(d){return d.id;})
        .enter().append("line")
        .attr("id", function(d) { return d.id; });

    var node_g = g.append("g").attr("class", "tnodes_oDTlsDTC")
        .selectAll("circle")
        .data(temporal_net.nodes, function(d){return d.id;})
        .enter()
        .append("g");

    var node = node_g.append("circle")
            .attr('id', function(d) { return d.id; })
            .attr("r", radius)
            // .attr("fill", function(d) { return color(d.group); })
            .attr("class", "tnodes_oDTlsDTC")
            .call(d3.drag()
                .on("start", dragstarted)
                .on("drag", dragged)
                .on("end", dragended));

    var text = node_g.append("text")
    .attr("x", [0, 5][0])
    .attr("y", [0, 5][1])
    .attr("id", function(d) {return d.id; })
    .attr("class", "active_oDTlsDTC")
    .text(function(d) { return d.id; });

    node.append("title").text(function(d) { return d.id; });

    var zoom_handler = d3.zoom()
        .on("zoom", zoom_actions);
    zoom_handler(svg);

    // build mapping to DOM objects once
    // for performance reasons
    var time_txt = d3.select('#oDTlsDTC_time_txt');
    var edges_to_dom = {};
    var nodes_to_dom = {};

    links.forEach(function(link){
        edges_to_dom[link.id] = d3.select('#oDTlsDTC #'+link.id);
    });

    temporal_net.nodes.forEach(function(n){
        nodes_to_dom[n.id] = d3.select('#oDTlsDTC #'+n.id);
    });

    // attach event handlers
    d3.select('#oDTlsDTC_start_txt').on("click", pauseAnimation);
    d3.select('#oDTlsDTC_restart_txt').on("click", restartAnimation);

    simulation.nodes(temporal_net.nodes).on("tick", ticked);
    // simulation.force("link").links(links);

    // start animation
    var time = mintime;
    var intervl = setInterval(time_step, msperframe);
    console.log('Started animation.')

    // animates one time step
    function time_step() {

        time_txt.html('t = ' + time);

        // stop animation
        if(time > maxtime){
            run_status = false;
            clearInterval(intervl);
            console.log('Stopped animation.')
        }

       // reset all links to hidden
       for (id in edges_to_dom){
            try {
                // edges_to_dom[l.id].attr('class', 'links');
                links_by_id[id].strength = hidden_link_strength;
                edges_to_dom[id].attr('class', 'hidden_oDTlsDTC');
            }
            catch(err){
                console.log('Error: Could not find DOM object with id ' + id);
            }
        }
        // reset all nodes to inactive
        for (id in nodes_to_dom) {
            try{
                nodes_to_dom[id].attr("class", "tnodes_oDTlsDTC");
            }
            catch(err){
                console.log('Error: Could not find DOM object with id ' + id);
            }
        }

        // change nodes and links in current time slice
        for (ti=Math.max(mintime, time-look_behind); ti<=time+look_ahead; ti++) {

            if (ti in edgesbytime) {
                edgesbytime[ti].forEach(function(id){
                    links_by_id[id].strength = active_link_strength;
                    // links that are currently active
                    if (ti >= time-tsperframe+1 && ti <= time) {
                        node_ids = id.split('-');
                        try {
                            edges_to_dom[id].attr('class', 'active_oDTlsDTC').moveToFront();
                        }
                        catch(err){
                            console.log('Error: Could not find DOM link with id ' + id);
                        }
                        try {
                            nodes_to_dom[node_ids[0]].attr('class', 'active_oDTlsDTC').moveToFront();
                        }
                        catch(err){
                            console.log('Error: Could not find DOM node with id ' + node_ids[0]);
                        }
                        try {
                            nodes_to_dom[node_ids[1]].attr('class', 'active_oDTlsDTC').moveToFront();
                        }
                        catch(err){
                            console.log('Error: Could not find DOM node with id ' + node_ids[1]);
                        }
                    }
                    // links in current time slice that are not active
                    else{
                        edges_to_dom[id].attr('class', 'tlinks_oDTlsDTC');
                    }
                });
            }
        }
        simulation.force('link', d3.forceLink()
            .id(link => link.id)
            .strength(link => link.strength));
        simulation.force("link").links(links);
        text.moveToFront();

        time += tsperframe;
    }

    function pauseAnimation() {
        if (run_status) {
            run_status = false;
            clearInterval(intervl);
            d3.select('#oDTlsDTC_start_txt').html('start');
            console.log('Paused animation.')
        }
        else {
            intervl = setInterval(time_step, msperframe);
            run_status = true;
            d3.select('#oDTlsDTC_start_txt').html('stop');
            console.log('Resumed animation.')
        }

    }

    function zoom_actions(){
        g.attr("transform", d3.event.transform)
    }

    function restartAnimation() {
        if (run_status)
            clearInterval(intervl);
        time = mintime;
        time_txt.html('t = ' + time);
        d3.select('#oDTlsDTC_start_txt').html('stop');
        run_status = true;
        intervl = setInterval(time_step, msperframe);
        console.log('Restarted animation.')
    }

    function ticked() {
        link.attr("x1", function(d) { return d.source.x; })
            .attr("y1", function(d) { return d.source.y; })
            .attr("x2", function(d) { return d.target.x; })
            .attr("y2", function(d) { return d.target.y; });

         text.attr("transform", transform);


        text.attr("cx", function(d) { return d.x; })
            .attr("cy", function(d) { return d.y; });

        node.attr("cx", function(d) { return d.x; })
            .attr("cy", function(d) { return d.y; });
    }


    function transform(d) {
        return "translate(" + d.x + "," + d.y + ")";
    }

    function dragstarted(d) {
        if (!d3.event.active)
            simulation.alphaTarget(0.2).restart();
        d.fx = d.x;
        d.fy = d.y;
    }

    function dragged(d) {
        d.fx = d3.event.x;
        d.fy = d3.event.y;
    }

    function dragended(d) {
        if (!d3.event.active)
            simulation.alphaTarget(0.2);
        d.fx = null;
        d.fy = null;
    }

    function contains(array, obj) {
        var i = array.length;
        while (i--) {
        if (array[i] === obj) {
            return true;
        }
        }
        return false;
    }
});
</script>
</body>
</html>